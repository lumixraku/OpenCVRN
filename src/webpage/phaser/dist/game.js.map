{"version":3,"file":"game.js","sources":["../node_modules/tslib/tslib.es6.js","../src/constants.ts","../src/game/mouth.ts","../src/game/spinTable.ts","../src/game/facePosCheck.ts","../src/game/cook.ts","../src/game/game.ts","../src/test.ts","../src/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","\nconst MSG_TYPE_FACE = 'face'\nconst MSG_TYPE_CAM = 'cam' // RN  告知 WEB 取景器的位置\nconst MSG_TYPE_WEBVIEW_READY = 'webview_ready' // WEB 告知 RN OnMessage 事件已经准备好 RN可以post 消息了\nconst MSG_TYPE_FACE_TARGET_POS = 'face_target' // WEB 告知 RN 人脸应该固定的位置\n\n\nconst DOGLOOK = 'doglook'\nconst DOGCOOK = 'dogcook'\nconst CHECKING_INTERVAL = 2000 // 回头检测的最短间隔\nconst CHECK_PROB = 0.9 //回头检测的概率\n\nexport {\n  MSG_TYPE_FACE,\n  MSG_TYPE_CAM,\n  MSG_TYPE_WEBVIEW_READY,\n  MSG_TYPE_FACE_TARGET_POS,\n  DOGLOOK,\n  DOGCOOK,\n  CHECKING_INTERVAL,\n  CHECK_PROB\n}","import PhaserImage = Phaser.GameObjects.Image;\nimport Sprite = Phaser.GameObjects.Sprite;\nimport Circle = Phaser.Geom.Circle;\nimport Point = Phaser.Geom.Point;\nimport Rectagle = Phaser.Geom.Rectangle;\nimport Graphics = Phaser.GameObjects.Graphics;\nimport PhaserText = Phaser.GameObjects.Text;\n\nconst stageWidth = document.body.clientWidth;\nconst stageHeight = document.body.clientHeight;\n\nexport default class Mouth {\n    public mouthRect: Rectagle = new Rectagle(0, 0, 0, 0);\n    public mouthAllPoints: Point[];\n    public upperTopPoints: Point[];\n    public upperBottomPoints: Point[];\n    public lowerTopPoints: Point[];\n    public lowerBottomPoints: Point[];\n\n    public mouthContour: Graphics;\n    public mouthStateText: PhaserText;\n\n    // private mouthColor: Graphics;\n\n    constructor(scene: Phaser.Scene) {\n        this.mouthContour = scene.add.graphics()\n        this.mouthStateText = scene.add.text(stageWidth - 100, -100, 'Hello World', { fontFamily: '\"Roboto Condensed\"' });\n    }\n\n    setMouthContourPoints(upperTop: Point[], upperBottom: Point[], lowerTop: Point[], lowerBottom: Point[]){\n        this.upperTopPoints = upperTop;\n        this.upperBottomPoints = upperBottom;\n        this.lowerTopPoints = lowerTop;\n        this.lowerBottomPoints = lowerBottom;\n\n        this.mouthAllPoints = [...upperTop, ...upperBottom, ...lowerTop, ...lowerBottom]\n        this.calcMouthRect()\n        this.drawContour()\n    }\n    calcMouthRect(){\n        let mouthPoints = this.mouthAllPoints;\n\n        let xVals = mouthPoints.map(p => {\n            return p.x\n        })\n        let yVals = mouthPoints.map(p => {\n            return p.y\n        })\n\n        let minX = Math.min(...xVals)\n        let maxX = Math.max(...xVals)\n        let minY = Math.min(...yVals)\n        let maxY = Math.max(...yVals)\n\n        this.mouthRect.setPosition(minX, minY);\n        this.mouthRect.setSize(maxX - minX, maxY - minY)\n    }\n    drawContour(){\n        let mouthPoints = this.mouthAllPoints;\n        this.mouthContour.clear()\n        this.mouthContour.lineStyle(5, 0xFF00FF, 1.0);\n        this.mouthContour.beginPath();\n\n        let idx = 0\n        for (let p of mouthPoints) {\n            if (idx == 0) {\n                this.mouthContour.moveTo(p.x, p.y);\n            } else {\n                this.mouthContour.lineTo(p.x, p.y);\n            }\n            idx++\n\n        }\n        this.mouthContour.closePath();\n        this.mouthContour.strokePath();\n    }\n\n    checkIfMouthClose() {\n        // return false\n        let isClose = false\n        if (this.mouthRect.height < 30 && this.mouthRect.height / this.mouthRect.width < 0.5) {\n            isClose = true\n        }\n\n        this.mouthStateText.text = \"\" + this.mouthRect.height //isClose ? \"close\" : \"open\"\n\n        return isClose\n    }\n\n    // 得到嘴巴中心点 用于确定动画结束的位置\n    getMouthCenter(): Point{\n        let mouthCenterX = this.mouthRect.x + this.mouthRect.width / 2;\n        let mouthCenterY = this.mouthRect.y + this.mouthRect.width / 2;\n\n        return new Point(mouthCenterX, mouthCenterY);\n    }\n}","import PhaserImage = Phaser.GameObjects.Image;\nimport Sprite = Phaser.GameObjects.Sprite;\nimport Circle = Phaser.Geom.Circle;\nimport Point = Phaser.Geom.Point;\nimport Rectagle = Phaser.Geom.Rectangle;\nimport Graphics = Phaser.GameObjects.Graphics;\nimport PhaserText = Phaser.GameObjects.Text;\nimport { Scene } from \"phaser\";\n\n\nconst stageWidth = document.body.clientWidth;\nconst stageHeight = document.body.clientHeight;\nimport { isPC } from '@root/test'\n\n\nconst angle2Rad = (angle: number) => {\n    return (Math.PI / 180) * angle\n}\n\nexport default class SpinTable {\n    public spSpin: Sprite;\n    public circle: Circle; //计算位置时用 并不是一个可见的对象\n    public spSpinSpeed: number = 1;\n\n    public circleRadius: number = stageWidth\n    public circleCenter: Point = new Point(stageWidth / 2, stageHeight + this.circleRadius / 2.3);    \n\n\n    public distanceAngle: number = 60  //食物和食物之间的间隔(角度)\n    public tableCapacity: number = 360 / this.distanceAngle; //根据间隔计算得到的桌面容量\n\n\n    constructor(pos: Point, radius: number, spinSpeed: number) {\n        this.circleCenter = pos\n        this.circleRadius = radius\n        this.spSpinSpeed = spinSpeed\n    }\n\n    addToContainer(scene: Scene){\n        this.spSpin = scene.add.sprite(this.circleCenter.x, this.circleCenter.y, 'pinWheel');\n        // if (isPC) {\n            this.spSpin.alpha = 0.5\n\n        // }\n\n        let bds: Rectagle = this.spSpin.getBounds()\n        let width = bds.width\n\n        this.spSpin.setScale(this.circleRadius / (width / 2), this.circleRadius / (width / 2))\n\n        this.circle = new Phaser.Geom.Circle(this.circleCenter.x, this.circleCenter.y, this.circleRadius);        \n    }\n\n    setTableCapacity(tableCapacity: number) {\n        this.tableCapacity = tableCapacity\n        this.distanceAngle = 360 / tableCapacity\n    }\n\n    rotateTableSlightly(){\n        // 角度从x轴正方向开始算  顺时针旋转\n        // rotate 是使用的弧度\n        // angle 是角度\n        this.spSpin.angle += this.spSpinSpeed;\n    }\n\n    getAngle(): number {\n        return this.spSpin.angle\n    }\n\n    // 计算第 i 个食物的在当前桌面上的角度\n    // 桌子是顺时针旋转  但是食物的摆放顺序是逆时针\n    // i starts from 0\n    calcFoodIAngle(i: number):number {\n        let rawAngle = this.getAngle()\n        let angle = rawAngle + this.distanceAngle * (this.tableCapacity - i)\n        return angle\n            // 另外注意一下这里的 angle 按照正始终顺序旋转 在第一象限是 0 ~ -90  第二象限是 -90 ~ -180\n            // 第四象限是 0 ~ 90  第三象限是 90 ~ 180\n    }\n\n    calcAngleToPoint(angle:number):Point{\n        let point = new Phaser.Geom.Point(0, 0)\n        Phaser.Geom.Circle.CircumferencePoint(this.circle, angle2Rad(angle), point);\n        return point\n    }\n}","\n\nimport PhaserImage = Phaser.GameObjects.Image;\nimport Sprite = Phaser.GameObjects.Sprite;\nimport Circle = Phaser.Geom.Circle;\nimport Point = Phaser.Geom.Point;\nimport Vector2 = Phaser.Math.Vector2;\nimport Rectagle = Phaser.Geom.Rectangle;\nimport Graphics = Phaser.GameObjects.Graphics;\nimport PhaserText = Phaser.GameObjects.Text;\nimport { Bounds } from \"@root/faceData\";\nimport { Scene, Tilemaps } from \"phaser\";\nimport { MSG_TYPE_FACE_TARGET_POS } from \"@root/constants\";\n\nconst stageWidth = document.body.clientWidth;\nconst stageHeight = document.body.clientHeight;\n\ninterface FaceInCircle {\n    pass: boolean\n    bounds: Bounds\n}\nexport { FaceInCircle }\n\nexport default class CamFaceCheck {\n    public facePoint: Point[]\n    public faceBounds: Bounds\n    public faceRect: Graphics\n\n\n    public camPreviewArea: Rectagle\n    public firstSetCamPreviewArea: Rectagle\n    public previewRect: Graphics\n    \n    \n    public facePosText: PhaserText\n\n\n    // 第一次被认为 OK 的脸部位置\n    // 之后人脸应该试图保持在这个位置\n    public targetFaceBounds: Bounds\n    public faceCenterPos: Vector2\n\n    public scene: Scene\n    constructor(scene?: Scene) {\n        this.scene = scene\n        this.faceRect = scene.add.graphics()\n        this.previewRect = scene.add.graphics()\n        this.facePosText = scene.add.text(stageWidth - 100, 250, 'Hello World', { fontFamily: '\"Roboto Condensed\"' });\n    }\n\n    refreshFacePosition(faceBounds: Bounds, facePoints: Point[]) {\n        this.faceBounds = faceBounds\n    }\n\n    // check if face is in the center of preview\n    // private \n    checkFacePosition(faceBounds: Bounds) {\n        let rs: FaceInCircle = {\n            pass: false,\n            bounds: null\n        }\n        if (!this.camPreviewArea) {\n            return rs\n        }        \n        if (faceBounds) {\n            let minFaceX = faceBounds.origin.x\n            let maxFaceX = faceBounds.origin.x + faceBounds.size.width\n\n            let minFaceY = faceBounds.origin.y\n            let maxFaceY = faceBounds.origin.y + faceBounds.size.height\n\n            this.drawFaceBounds(faceBounds)\n            // this.drawPreviewBounds(this.camPreviewArea)\n            let minPreviewX = this.camPreviewArea.x\n            let maxPreviewX = this.camPreviewArea.x + this.camPreviewArea.width\n            let minPreviewY = this.camPreviewArea.y\n            let maxPreviewY = this.camPreviewArea.y + this.camPreviewArea.height\n\n            let paddingLeft = minFaceX - minPreviewX\n            let paddingRight = maxPreviewX - maxFaceX\n            let paddingTop = maxFaceX - minPreviewX\n            let paddingBottom = maxPreviewY - maxFaceY\n\n            // this.facePosText.text = `${paddingLeft.toFixed(2)} --- ${paddingRight.toFixed(2)}`\n\n            if (paddingLeft / paddingRight > 2) {\n                this.facePosText.text = 'to right slightly'\n            } else if (paddingRight / paddingLeft > 2) {  \n                this.facePosText.text = 'to left slightly'\n            } else {\n                this.facePosText.text = 'Hold your phone!'\n                return {\n                    pass: true,\n                    bounds: faceBounds\n                }\n            }\n\n\n        }\n        return rs\n\n    }\n\n    drawPreviewBounds(previewCamArea: Rectagle) {\n        if (!previewCamArea) {\n            return\n        }\n\n        this.previewRect.clear()\n        this.previewRect.lineStyle(5, 0x00FFFF, 1.0);\n        this.previewRect.beginPath();\n\n        let minPreviewX = previewCamArea.x\n        let maxPreviewX = previewCamArea.x + previewCamArea.width\n        let minPreviewY = previewCamArea.y\n        let maxPreviewY = previewCamArea.y + previewCamArea.height\n\n        let points = [\n            new Point(minPreviewX, minPreviewY), new Point(maxPreviewX, minPreviewY),\n            new Point(maxPreviewX, maxPreviewY), new Point(minPreviewX, maxPreviewY)\n        ]\n\n\n        let idx = 0\n        for (let p of points) {\n            if (idx == 0) {\n                this.previewRect.moveTo(p.x, p.y);\n            } else {\n                this.previewRect.lineTo(p.x, p.y);\n            }\n            idx++\n        }\n        this.previewRect.closePath();\n        this.previewRect.strokePath();\n    }\n\n\n\n    drawFaceBounds(faceBounds: Bounds) {\n        this.faceRect.clear()\n        this.faceRect.lineStyle(5, 0xFF00FF, 1.0);\n        this.faceRect.beginPath();\n\n        let minFaceX = faceBounds.origin.x\n        let maxFaceX = faceBounds.origin.x + faceBounds.size.width\n\n        let minFaceY = faceBounds.origin.y\n        let maxFaceY = faceBounds.origin.y + faceBounds.size.height\n        let points = [\n            new Point(minFaceX, minFaceY), new Point(maxFaceX, minFaceY),\n            new Point(maxFaceX, maxFaceY), new Point(minFaceX, maxFaceY)\n        ]\n        let idx = 0\n        for (let p of points) {\n            if (idx == 0) {\n                this.faceRect.moveTo(p.x, p.y);\n            } else {\n                this.faceRect.lineTo(p.x, p.y);\n            }\n            idx++\n        }\n        this.faceRect.closePath();\n        this.faceRect.strokePath();\n\n    }\n    setCameraArea(camPreviewArea: Rectagle) {\n        this.camPreviewArea = camPreviewArea\n        if (!this.firstSetCamPreviewArea) {\n            this.firstSetCamPreviewArea = new Rectagle(0,0,0,0)\n            this.firstSetCamPreviewArea.x = this.camPreviewArea.x\n            this.firstSetCamPreviewArea.y = this.camPreviewArea.y\n            this.firstSetCamPreviewArea.width = this.camPreviewArea.width\n            this.firstSetCamPreviewArea.height = this.camPreviewArea.height\n        }\n    }\n\n    setTargetFaceBounds(facebds: Bounds) {\n\n        if (this.targetFaceBounds == null) {\n            this.targetFaceBounds = facebds\n            let centerX = facebds.origin.x + facebds.size.width\n            let centerY = facebds.origin.y + facebds.size.height\n            let distanceX = this.camPreviewArea.x - centerX\n            let distanceY = this.camPreviewArea.y - centerY      \n            this.faceCenterPos = new Vector2(centerX, centerY)\n            \n            // 同时告知 RN?  //脸的位置确定了\n            if (window[\"ReactNativeWebView\"]) {\n                let msg = {\n                    messageType: MSG_TYPE_FACE_TARGET_POS,                    \n                    actualData: {\n                        bounds: facebds,\n                    },\n                    time: +new Date\n                }\n                window[\"ReactNativeWebView\"].postMessage(JSON.stringify(msg));\n            }            \n\n        }\n    }\n\n    getTargetFaceBounds(): Bounds {\n        return this.faceBounds\n    }\n\n    updatePreviewPosByTarget(){\n        let faceCenterPos = this.faceCenterPos\n        let firstCamPreviewArea = this.firstSetCamPreviewArea\n        if (!firstCamPreviewArea){\n            return\n        }\n\n        if (!faceCenterPos) {\n            return \n        }\n        \n        let originCamArea = this.firstSetCamPreviewArea\n        let faceBounds = this.faceBounds\n        let centerX = faceBounds.origin.x + faceBounds.size.width\n        let centerY = faceBounds.origin.y + faceBounds.size.height\n\n        let distanceX = this.camPreviewArea.x - centerX\n        let distanceY = this.camPreviewArea.y - centerY \n        \n        let offset = new Point(\n            faceCenterPos.x - centerX,\n            faceCenterPos.y - centerY\n        )\n\n        this.camPreviewArea.x = originCamArea.x + offset.x\n        this.camPreviewArea.y = originCamArea.y + offset.y\n        this.drawPreviewBounds(this.camPreviewArea)\n        \n        \n\n\n    }\n}\n","\nimport Image = Phaser.GameObjects.Image;\nimport Sprite = Phaser.GameObjects.Sprite;\nimport Circle = Phaser.Geom.Circle;\nimport Point = Phaser.Geom.Point;\n\nimport { DOGLOOK, DOGCOOK, CHECKING_INTERVAL } from '@root/constants'\n\nexport default class Cook extends Image  {\n    checking: boolean;  //回头观察\n    private cooking: boolean = true;\n    image: Image;\n    constructor(scene: Phaser.Scene, x: number, y: number, ) {\n        super(scene, x, y, DOGCOOK, 0)\n        // scene.add.image(0, 0, 'dog', 0)\n        // let img = new Image(scene,x,y,texture);\n        // scene.children.add(this);\n        scene.add.existing(this)\n        \n    }   \n    \n    setOriginToTopLeft(){\n        this.setOrigin(0,0)\n    }\n\n    \n    private startCheckingTime: number\n    private endCheckingTime: number\n    lookBack() {\n        this.setTexture('doglook', 0)\n        this.checking = true\n        this.cooking = false\n        this.startCheckingTime = +new Date\n    }\n\n\n\n\n    cookAgain() {\n        this.setTexture('dogcook', 0)\n        this.checking = false\n        this.cooking = true\n        this.endCheckingTime =+new Date\n        console.log(\"looking back\", this.endCheckingTime - this.startCheckingTime )\n    }\n    \n    isCooking(): boolean {\n        return this.cooking\n    }\n\n    //是否刚刚回头过\n    ifJustChecked(): boolean {\n\n\n\n        \n        let timeGap = +new Date - this.endCheckingTime\n        return (timeGap < CHECKING_INTERVAL) \n    }\n}","import PhaserImage = Phaser.GameObjects.Image;\nimport Sprite = Phaser.GameObjects.Sprite;\nimport Circle = Phaser.Geom.Circle;\nimport Point = Phaser.Geom.Point;\nimport Rectagle = Phaser.Geom.Rectangle;\nimport Graphics = Phaser.GameObjects.Graphics;\nimport PhaserText = Phaser.GameObjects.Text;\n\nconst stageWidth = document.body.clientWidth;\nconst stageHeight = document.body.clientHeight;\n// 在 RN 中得到的宽和高 是411 * 823\n// 在 webview 得到的宽高是 412 * 804  // 因为我的APP 并没有打开全屏\nimport { MSG_TYPE_FACE, MSG_TYPE_CAM, MSG_TYPE_WEBVIEW_READY } from '@root/constants';\nimport { isPC } from '@root/test'\n\n\nimport Mouth from '@game/mouth'\nimport Food from '@game/food'\nimport { FaceData, Bounds } from '@root/faceData';\nimport SpinTable from './spinTable';\nimport CamFaceCheck, { FaceInCircle } from './facePosCheck';\nimport Cook from './cook';\n\n\nexport default class Demo extends Phaser.Scene {\n    // // 旋转圆心\n    public spinTable: SpinTable\n    public spSpinSpeed: number = 1;\n    public circleRadius: number = stageWidth\n    public circleCenter: Point = new Point(stageWidth / 2, stageHeight + this.circleRadius / 2.3);\n\n    public distanceAngle: number = 60  //食物和食物之间的间隔(角度)\n    public tableCapacity: number = 360 / this.distanceAngle; //根据间隔计算得到的桌面容量\n\n    public foodList: Food[] = [...Array(this.tableCapacity)].map(_ => null);\n\n    // mouth\n    public mouthObj: Mouth;\n\n    public camFaceCheck: CamFaceCheck;\n\n    // background\n    public bg: Graphics;\n    public bgImg: PhaserImage;\n\n    // cook\n    public cook: Cook;\n\n\n    //text\n    public mouthStateText: PhaserText;\n    private toastText: PhaserText\n    private scoreText: PhaserText\n    private testText: PhaserText\n    private hasCaughtToast: boolean\n    \n    // preview 取景器\n    private previewArea: Rectagle = new Rectagle(0, 0, 0, 0)\n\n\n\n    constructor() {\n        super('demo');\n    }\n\n    preload() {\n\n        // yarn run dev 的时候 这个资源也还是从 dist 中读取的\n        this.load.image('bgImg', 'assets/kitchen.png');\n        this.load.image('pinWheel', 'assets/pinWheel.png');\n        this.load.image('light', 'assets/light.png');\n\n        this.load.image('food0', 'assets/burger.png');\n        this.load.image('food1', 'assets/burrito.png');\n        this.load.image('food2', 'assets/cheese-burger.png');\n        this.load.image('food3', 'assets/chicken-leg.png');\n        this.load.image('food4', 'assets/french-fries.png');\n        this.load.image('food5', 'assets/donut.png');\n\n        this.load.image('doglook', 'assets/front.png');\n        this.load.image('dogcook', 'assets/back.png');\n\n\n        this.load.glsl('bundle', 'assets/plasma-bundle.glsl.js');\n        this.load.glsl('stars', 'assets/starfields.glsl.js');\n\n    }\n\n    create() {\n        this.bg = this.add.graphics()\n\n        this.drawBackground()\n        this.addCook()\n        this.addFace()\n        this.drawWheel()\n\n        // Phaser会根据 add 的先后顺序决定层级.\n        this.mouthObj = new Mouth(this);\n        this.refreshMouth([], [], [], [])\n\n\n        this.messageListener()\n        this.addText();\n    }\n\n\n    private frameCounter = 0\n    update(time, delta) {\n\n        this.rotateTable()\n        this.addFoodIfNeed()\n        this.movingFoodOnTable()\n        this.checkIfCouldEat()\n\n        this.frameCounter += 1\n\n        if (this.frameCounter >= 60) {\n            this.frameCounter = 0\n            this.update60Frame()\n        }\n\n    }\n\n    update60Frame() {\n        let shouldLookBack =  Math.random()\n\n        if (this.cook) {\n            let isDogCooking = this.cook.isCooking()\n            let isJustChecked = this.cook.ifJustChecked()\n            if (!isJustChecked && isDogCooking && shouldLookBack < 0.9) {\n                this.cook.lookBack()\n                setTimeout(()=> {\n                    this.cook.cookAgain()\n                }, 1000)\n            }\n        }\n        \n    }\n\n    rotateTable() {\n        // 右手顺时针\n        // this.spSpin.angle += this.spSpinSpeed;\n        this.spinTable.rotateTableSlightly()\n        \n    }\n\n    addCounter = 0\n    addFoodIfNeed() {\n        for (let i = 0; i < this.foodList.length; i++) {\n            // i = 0 angle 0\n            // i = 1 angle 60\n            // 盘子是空的, 且恰好转到合适的位置. 就添加食物\n            if (!this.foodList[i]) {\n\n\n                //\n                //               +\n                //               |\n                //               |\n                //               |\n                //   -90 ~ -180  |    0 ~ -90\n                //               |\n                //               |\n                //               |\n                //               |\n                // +-----------------------------+\n                //               |\n                //               |\n                //               |\n                //     90 - 180  |     0 - 90\n                //               |\n                //               |\n                //               |\n                //               |\n                //               +\n\n\n                // 由于phaser 的坐标不是连续的, 因此为了按照顺时针旋转一周得到 360 的角度, 需要做下面的处理\n                let rawAngle = this.spinTable.getAngle()\n                let mathAngle = rawAngle < 0 ? 360 + rawAngle : rawAngle\n                // 只在圆圈的 0° 这个位置(也就是坐标系 x )这个位置生成新的元素.\n                // 根据目前的采样率 得不到 mathAngle 为 1 的情况, 最接近1 是 1.79°\n                if (Math.abs(mathAngle - i * this.distanceAngle) < 2) {\n                    let foodTextureKey = `food${i}`\n                    let food = this.add.image(0, 0, foodTextureKey) as Food\n\n                    food.name = `Food${i}`\n                    food.setScale(2, 2)\n\n                    this.foodList[i] = food\n\n                    // console.log(\"angle add\", rawAngle, mathAngle, food.name)\n                    // this.foodList.push(food)\n                }\n            }\n        }\n    }\n\n    movingFoodOnTable() {\n\n        for (let i = 0; i < this.foodList.length; i++) {\n            let food = this.foodList[i];\n            if (!food) {\n                continue\n            }\n\n            // let rawAngle = this.spinTable.getAngle()\n            // let angle = rawAngle + this.distanceAngle * (this.tableCapacity  - i)\n            // 另外注意一下这里的 angle 按照正始终顺序旋转 在第一象限是 0 ~ -90  第二象限是 -90 ~ -180\n            // 第四象限是 0 ~ 90  第三象限是 90 ~ 180\n            let foodAngle = this.spinTable.calcFoodIAngle(i) //当前食物在桌上的角度\n            let point = this.spinTable.calcAngleToPoint(foodAngle)\n\n            // Phaser.Geom.Circle.CircumferencePoint(this.circle, angle2Rad(angle) , point);\n\n            food.x = point.x\n            food.y = point.y\n        }\n    }\n\n\n    refreshMouth(upperTop: Point[], upperBottom: Point[], lowerTop: Point[], lowerBottom: Point[]) {\n        this.mouthObj.setMouthContourPoints(upperTop, upperBottom, lowerTop, lowerBottom)\n\n    }\n\n    messageListener() {\n        window.addEventListener(\"message\", (event) => {\n            switch (event.data.messageType) {\n                case MSG_TYPE_FACE:\n                    // 不论取景器是否有偏移  这里得到的坐标就是相对于 webview 左上角而言的\n                    // offset 的处理已经在 RN 的部分完成\n                    let of: FaceData = event.data.faceData\n                    this.refreshMouth(of.upperLipTop, of.upperLipBottom, of.lowerLipTop, of.lowerLipBottom)\n                    this.refreshFaceBounds(of.bounds, of.face)\n\n                    break;\n                case MSG_TYPE_CAM:\n                    setTimeout(() => {\n                        console.log(\"MSG_TYPE_CAM\")\n                    }, 1000)\n                    let previewArea = event.data.previewArea\n                    this.previewArea = previewArea\n                    this.camFaceCheck.setCameraArea(previewArea)\n                default:\n                    break;\n            }\n\n\n\n\n        }, false)\n\n        // 告知 RN webview 事件绑定上了\n        if (window[\"ReactNativeWebView\"]) {\n            let msg = {\n                messageType: MSG_TYPE_WEBVIEW_READY,\n                event: \"bindMessage\",\n                time: +new Date\n            }\n            window[\"ReactNativeWebView\"].postMessage(JSON.stringify(msg));\n        }\n    }\n\n\n    // 所有的 offset 都移动到了 RN 的部分处理\n    // offsetPoints(webviewWidth: number,  webviewHeight, mouthPoints: Point[]) {\n    //     let scaleX = webviewWidth / this.previewWidth;\n    //     let scaleY = webviewHeight / this.previewHeight;\n\n    //     let newPoints = mouthPoints.map( p => {\n    //         return new Point(p.x + this.previewOffsetX, p.y + this.previewOffsetY )\n    //     })\n    //     return newPoints\n    // }\n\n\n\n\n    checkIfCouldEat() {\n        if (this.mouthObj.checkIfMouthClose()) {\n            return\n        }\n\n        if (this.previewArea.x == 0) {\n            console.warn(\"offsetXPreview is still zero\")\n            return\n        }\n        let offsetXPreview: number = this.previewArea.x\n        let offsetYPreview: number = this.previewArea.y\n        let previewWidth: number = this.previewArea.width\n        let previewHeight: number = this.previewArea.height\n\n\n        let destPos = this.mouthObj.getMouthCenter();\n        for (let i = 0; i < this.foodList.length; i++) {\n\n\n            let food = this.foodList[i]\n            if (!food) {\n                continue\n            }\n\n            if (food.eating) {\n                continue\n            }\n\n            let foodx = food.x\n            let foody = food.y\n\n\n            // 重新修改判定条件\n            // 当food 在摄像头范围内就可以吃\n            if (\n                (offsetXPreview < food.x && food.x < offsetXPreview + previewWidth)\n                &&\n                (offsetYPreview < food.y && food.y < offsetYPreview + previewHeight * 1.2 )\n                &&\n                !food.eating\n            ) {\n                // this.foodList.splice(i--, 1)\n                this.foodList[i] = null\n                this.eatingAnimation(food, destPos)\n                \n                this.countEatScore()\n\n\n                break\n            }\n\n            // 来到了取景器右边 // 表示miss\n            if (food.x > offsetXPreview + previewWidth && food.y < offsetYPreview + previewHeight * 1.2 ) {\n                console.log('miss')\n            }\n        }\n    }\n\n    eatingAnimation(food: Food, dest: Point) {\n        food.eating = true\n        var tween = this.tweens.add({\n            targets: food,\n            x: dest.x,\n            y: dest.y,\n            scale: 0,\n            duration: 400,\n            ease: 'Power3',\n            onComplete: () => {\n                food.destroy()\n            }\n        })\n        \n    }\n\n    countEatScore() {\n        if (!this.cook.isCooking()) {\n            this.showCaughtToast('You get caught!!!!', 1000, () => {\n                // this.scoreText.text = +(this.scoreText.text) + 1 + ''\n            })\n        }else{            \n            this.showScoreToast('+1', 400,  () => {\n                this.scoreText.text = +(this.scoreText.text) + 1 + ''\n            })\n        }\n\n    }\n\n    missAnimation(){\n\n    }\n\n    drawHollowBackground() {\n        let faceCenter = new Point(300, 450)\n        let faceRadius = 200\n        this.bg.beginPath()\n        this.bg.moveTo(0, 0)\n        this.bg.lineTo(stageWidth, 0)\n        this.bg.lineTo(stageWidth, faceCenter.y)\n        this.bg.lineTo(faceCenter.x + faceRadius, faceCenter.y)\n        this.bg.arc(faceCenter.x, faceCenter.y, faceRadius, 0, Math.PI, true);\n        this.bg.lineTo(0, faceCenter.y)\n        this.bg.lineTo(0, 0)\n        this.bg.fillStyle(0xffeeff)\n        this.bg.fill()\n\n\n        this.bg.moveTo(stageWidth, stageHeight)\n        this.bg.lineTo(stageWidth, faceCenter.y)\n        this.bg.arc(faceCenter.x, faceCenter.y, faceRadius, 0, Math.PI, false);\n        this.bg.lineTo(0, faceCenter.y)\n        this.bg.lineTo(0, stageHeight)\n        this.bg.lineTo(stageWidth, stageHeight)\n        this.bg.fillStyle(0xffeeff)\n        this.bg.fill()\n    }\n\n    drawBackground() {\n        this.bgImg = this.add.image(0, 0, 'bgImg')\n        let bd: Rectagle = this.bgImg.getBounds()\n\n        this.bgImg.setPosition(0, 0)\n        // Phaser 中 Image 的默认 pivot 就是图片的中心点\n\n        this.bgImg.x = stageWidth / 2\n        this.bgImg.y = stageHeight / 2\n        this.bgImg.setScale(stageWidth / bd.width, stageHeight / bd.height)\n        // if (isPC) {\n            this.bgImg.alpha = 0.5; \n        // }\n\n    }\n\n    drawWheel() {\n        this.spinTable = new SpinTable(this.circleCenter, this.circleRadius, this.spSpinSpeed)\n        this.spinTable.addToContainer(this)\n    }\n\n    addFace() {\n        this.camFaceCheck = new CamFaceCheck(this)\n    }\n\n    addText() {\n        // this.mouthStateText = this.add.text(stageWidth - 100, 0, 'Hello World', { fontFamily: '\"Roboto Condensed\"' });\n        // this.testText = this.add.text(170, 170, 'Hello World', { fontFamily: '\"Roboto Condensed\"' });\n        \n        this.scoreText = this.add.text(390, 50, '0', { \n            fontFamily: '\"Roboto Condensed\"',\n            color: 'red'\n        })\n        \n\n    }\n\n    refreshFaceBounds(bounds: Bounds, facePoints: Point[]) {   \n        this.camFaceCheck.refreshFacePosition(bounds, facePoints)  \n        this.camFaceCheck.updatePreviewPosByTarget()\n\n        let rs: FaceInCircle = this.camFaceCheck.checkFacePosition(bounds)\n        if (rs.pass) {\n            this.camFaceCheck.setTargetFaceBounds(bounds)\n        }\n    }\n\n    addCook() {\n        this.cook = new Cook(this, 100, 400)\n    }\n\n    showScoreToast(text: string, delay:number, cb: Function) {\n        let toastText = this.add.text(0, 0, '', { fontFamily: '\"Roboto Condensed\"' })\n\n        toastText.x = stageWidth/2\n        toastText.y = stageWidth / 2\n        toastText.text = text\n        toastText.setFontSize(32)\n        toastText.setColor('red')\n\n        let dest = {\n            x: 390, y:50\n        }\n        setTimeout( ()=> {\n            this.tweens.add({\n                targets: toastText,\n                x: dest.x,\n                y: dest.y,\n                scale: 0,\n                duration: 1000,\n                ease: 'Power3',\n                onComplete: () => {\n                    cb()\n                    toastText.destroy()\n                }\n            })   \n        }, delay)\n    \n    }\n\n    showCaughtToast(text: string, delay: number, cb: Function) {\n        if (this.hasCaughtToast) return\n\n        let toastText = this.add.text(0, 0, '', { fontFamily: '\"Roboto Condensed\"' })\n        this.hasCaughtToast = true\n        toastText.x = stageWidth / 2\n        toastText.y = stageWidth / 2\n        toastText.text = text\n        toastText.setFontSize(32)\n        toastText.setColor('red')\n\n        let dest = {\n            x: -200, y: stageWidth / 2\n        }\n        setTimeout(() => {\n            this.tweens.add({\n                targets: toastText,\n                x: dest.x,\n                y: dest.y,\n                duration: 400,\n                ease: 'Power3',\n                onComplete: () => {\n                    cb()\n                    toastText.destroy()\n                    this.hasCaughtToast = false\n                }\n            })\n        }, delay)\n\n    }    \n}\n","import Image = Phaser.GameObjects.Image;\nimport Sprite = Phaser.GameObjects.Sprite;\nimport Circle = Phaser.Geom.Circle;\nimport Point = Phaser.Geom.Point;\nimport Rectagle = Phaser.Geom.Rectangle;\nimport VConsole from \"vconsole\";\nimport { FaceData, Bounds } from \"./faceData\";\nimport { MSG_TYPE_FACE, MSG_TYPE_CAM, MSG_TYPE_WEBVIEW_READY } from '@root/constants';\n\n// 使用 namespace 定义的类型可以直接用\nimport Coco = MyName.Coco\n\n// 使用 module 定义的一定要 import 才能用\nimport { PIPI } from \"./types/myModule\";\n\nvar offsetXPreview = 170\nvar offsetYPreview = 250\nvar previewWidth = 198\nvar previewHeight = previewWidth * 16 / 9\n\nvar isPC = window.navigator.userAgent.indexOf(\"PCMozilla\") != -1\n\nexport { changeMouth, setPreview, isPC }\n\n// 给坐标加上取景器的偏移信息\n// 原本的坐标信息是人脸相对取景器的位置\n// 现在坐标信息变为相对整个画布的位置\nfunction addOffsetForFaceData(target) {\n  const checkedType = (target) => {\n    return Object.prototype.toString.call(target).slice(8, -1)\n  }\n  //判断拷贝的数据类型\n  //初始化变量result 成为最终克隆的数据\n  let result\n  let targetType = checkedType(target)\n  if (targetType === 'Object') {\n    result = {}\n  } else if (targetType === 'Array') {\n    result = []\n  } else {\n    return target\n  }\n  //遍历目标数据\n  for (let [key, value] of Object.entries(target)) {\n    //获取遍历数据结构的每一项值。\n    // let value = target[key]\n    //判断目标结构里的每一值是否存在对象/数组\n    if (checkedType(value) === 'Object' ||\n      checkedType(value) === 'Array') { //对象/数组里嵌套了对象/数组\n      //继续遍历获取到value值\n      result[key] = addOffsetForFaceData(value)\n    } else { //获取到value值是基本的数据类型或者是函数。\n\n      if (key == \"x\") {\n        result[key] = offsetXPreview + (value as number)\n\n      } else if (key == \"y\") {\n        result[key] = offsetYPreview + (value as number)\n\n      } else {\n        result[key] = value;\n\n      }\n    }\n  }\n  return result\n}\n// set preview area\n\nfunction setPreview() {\n\n  window.addEventListener(\"load\", () => {\n    setTimeout(() => {\n      window.postMessage({\n        messageType: MSG_TYPE_CAM,\n        previewArea: {\n          y: offsetYPreview,\n          x: offsetXPreview,\n          width: previewWidth,\n          height: previewHeight\n        },\n      }, \"*\")\n    }, 100)\n\n  }, false)\n\n\n}\n\n\n// 测试嘴巴位置\nfunction changeMouth(game: Phaser.Game) {\n\n  //contours sample data\n  window.addEventListener(\"load\", () => {\n    let offsetSpeed = 3\n\n\n    let movingFaceBounds = (bounds: Bounds, dir: number) => {\n      let offset = 0\n      // dir 0下 1左 2上 3右\n\n      if (dir == 0 || dir == 2) {\n        offset = dir == 2 ? -offsetSpeed : offsetSpeed\n        bounds.origin.y = bounds.origin.y + offset\n      } else {\n        offset = dir == 1 ? -offsetSpeed : offsetSpeed\n        bounds.origin.x = bounds.origin.x + offset\n      }\n    }\n    let movingYPoints = (points: Point[], dir) => {\n      // dir 0下 1左 2上 3右\n\n      let offset = 0\n      if (dir == 2) {\n        offset = -offsetSpeed\n      } else {\n        offset = offsetSpeed\n      }\n\n      for (let p of points) {\n        p.y = p.y + offset\n      }\n    }\n\n    let movingXPoints = (points: Point[], dir) => {\n      let offset = 0\n      if (dir == 1) {\n        offset = -offsetSpeed\n      } else {\n        offset = offsetSpeed\n      }\n\n\n      for (let p of points) {\n        p.x = p.x + offset\n      }\n    }\n\n    let moveFace = (oneFace: FaceData, dir: number) => {\n      // dir 0下 1左 2上 3右\n      if (dir == 0 || dir == 2) {\n        movingYPoints(oneFace.lowerLipBottom, dir)\n        movingYPoints(oneFace.lowerLipTop, dir)\n        movingYPoints(oneFace.upperLipBottom, dir)\n        movingYPoints(oneFace.upperLipTop, dir)\n        movingFaceBounds(oneFace.bounds, dir)\n      } else {\n        movingXPoints(oneFace.lowerLipBottom, dir)\n        movingXPoints(oneFace.lowerLipTop, dir)\n        movingXPoints(oneFace.upperLipBottom, dir)\n        movingXPoints(oneFace.upperLipTop, dir)\n        movingFaceBounds(oneFace.bounds, dir)\n      }\n    }\n\n\n    // 这个数据是和取景器大小有关的数据 \n    // 当 RN 的部分设置了取景器大小的时候, 返回的脸的位置也根据 RN 这里的实际尺寸有所压缩\n    // 但是和取景器的位移无关  毕竟安卓端也不知道取景器的相对位置\n    fetch('/assets/sampleContours.json').then(resp => {\n      return resp.json()\n    }).then(data => {\n      // 在PC上调试\n      if (window.navigator.userAgent.indexOf(\"PCMozilla\") != -1) {\n        let oneFace: FaceData = data[0]\n        let i = 0\n\n        let changeDir = 0  // 0下 1上 2左 3右\n        setInterval(() => {\n          if (i++ == 2) {\n            i = 0\n            changeDir = (++changeDir) % 4\n          }\n\n          moveFace(oneFace, changeDir)\n          let afterOffsetForFaceData = addOffsetForFaceData(oneFace)\n\n          window.postMessage({\n            messageType: 'face',\n            faceData: afterOffsetForFaceData\n          }, \"*\")\n\n        }, 100)\n      }\n\n\n    })\n  }, false)\n\n\n  // let points = [{x:100, y:500}, {x:200, y:600}, {x:100, y:600}, {x:200, y:600}]\n\n\n}\n","\r\nconsole.log(Phaser.AUTO)\r\nconsole.log(Phaser.AUTO)\r\n\r\n\r\nimport GameScene from '@game/game'\r\nimport { MSG_TYPE_FACE, MSG_TYPE_CAM, MSG_TYPE_WEBVIEW_READY} from '@root/constants';\r\n\r\nimport { changeMouth, setPreview }from 'test'\r\n\r\nconst stageWidth = document.body.clientWidth;\r\nconst stageHeight = document.body.clientHeight;\r\nsetTimeout( ()=> {\r\n\r\n    console.log('....stageWidth.', stageWidth, stageHeight)\r\n}, 1000)\r\n\r\nconst config: Phaser.Types.Core.GameConfig = {\r\n    type: Phaser.AUTO,\r\n    parent: 'phaser-example',\r\n    width: stageWidth,\r\n    height: stageHeight,\r\n    scene: GameScene,\r\n    transparent: true,\r\n    physics: {\r\n        default: 'arcade',\r\n        arcade: {\r\n            gravity: { y: 300 },\r\n            debug: false\r\n        }\r\n    },\r\n};\r\nconsole.log(\"...............\")\r\nconst game = new Phaser.Game(config);\r\n// game.scene.getScene()  game.scene 是 SceneManager  getScene()才是 Phaser.Scene\r\n\r\n\r\n\r\nsetTimeout( ()=> {\r\n    changeMouth(game)\r\n    setPreview()\r\n}, 0)\r\n\r\n"],"names":["Point","stageWidth","stageHeight","Rectagle","GameScene"],"mappings":"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"}